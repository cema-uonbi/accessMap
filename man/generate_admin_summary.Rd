% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/summary_functions.R
\name{generate_admin_summary}
\alias{generate_admin_summary}
\title{Generate Summary Statistics by Administrative Units}
\usage{
generate_admin_summary(
  data,
  admin_sf,
  admin_name_cols = "NAME_1",
  admin_code_cols = NULL,
  progress = TRUE
)
}
\arguments{
\item{data}{data.table with accessibility data (from process_access_data())}

\item{admin_sf}{sf object with administrative boundaries}

\item{admin_name_cols}{Character vector of column names containing admin unit names
(default: "NAME_1"). Can specify multiple levels like c("county", "subcounty").}

\item{admin_code_cols}{Character vector of column names containing admin unit codes
(optional). Should correspond to admin_name_cols if provided.}

\item{progress}{Logical, show progress messages (default: TRUE)}
}
\value{
data.table with columns: admin_name, admin_code (if provided),
travel_time, population, percentage, total_pop
}
\description{
Calculates accessibility summary statistics aggregated by administrative units
(e.g., counties, subcounties, districts). Returns population counts and percentages
by travel time category for each administrative unit.
}
\details{
The function performs spatial overlay of accessibility grid points with
administrative boundaries to assign each population cell to an admin unit.
It then aggregates by both admin unit and travel time category.

\strong{Output Columns:}
\itemize{
\item \strong{Admin columns}: Named according to admin_name_cols and admin_code_cols parameters
(e.g., NAME_1, COUNTY_NAME, etc.) - identifies the administrative unit
\item \strong{cat_travel_time}: Factor with travel time categories (e.g., "<=30", "31-60", ">120")
\itemize{
\item represents travel time ranges in minutes to nearest facility
}
\item \strong{total_pop}: Total population within the administrative unit across all travel times
\itemize{
\item same value repeated for all travel time categories within each admin unit
}
\item \strong{population}: Population count within this admin unit for this specific travel time category
\itemize{
\item sum of population in grid cells that fall within the travel time range
}
\item \strong{percentage}: Percentage of admin unit's total population in this travel time category
\itemize{
\item calculated as (population / total_pop) * 100
}
}

\strong{Note}: For large data sets, this function may take several minutes due to
spatial overlay operations. Consider using smaller sample areas for testing.
}
\examples{
\dontrun{
# Basic usage with county boundaries
data <- load_default_data()
pts <- validate_points(facility_coords)
travel_results <- compute_travel_cost(pts, data$transitionMatrix, data$populationRaster)
cats <- default_categories()
access_dt <- process_access_data(travel_results$access, travel_results$pop, cats)
# Generate county-level summary
county_summary <- generate_admin_summary(
  data = access_dt,
  admin_sf = data$adm1,
  categories = cats$labels,
  admin_name_col = "NAME_1"
)
# View results
print(county_summary)
}

}
