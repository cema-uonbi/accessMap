% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/visualizations.R
\name{create_map}
\alias{create_map}
\title{Create Accessibility Map}
\usage{
create_map(
  data,
  points,
  adm0 = NULL,
  adm1 = NULL,
  categories,
  label = "facilities",
  show_admin = TRUE,
  show_scale = TRUE,
  point_color = "red",
  point_shape = "+",
  point_size = 4.5,
  point_colors = NULL,
  point_shapes = NULL,
  show_point_legend = TRUE
)
}
\arguments{
\item{data}{data.table with spatial accessibility data}

\item{points}{Matrix or data.frame with facility coordinates (must have lng, lat columns)}

\item{adm0}{Country/study area boundary (sf object, optional)}

\item{adm1}{Administrative subdivision boundaries (sf object, optional)}

\item{categories}{Travel time categories with colors}

\item{label}{Character label for facilities in legend}

\item{show_admin}{Logical, whether to show administrative boundaries}

\item{show_scale}{Logical, whether to show scale bar and north arrow}

\item{point_color}{Character color for points, or column name in points data for color mapping}

\item{point_shape}{Numeric shape code, character shape, or column name in points data for shape mapping}

\item{point_size}{Numeric size for points, or column name in points data for size mapping}

\item{point_colors}{Named vector of colors for categorical color mapping (when point_color is column name)}

\item{point_shapes}{Named vector of shapes for categorical shape mapping (when point_shape is column name)}

\item{show_point_legend}{Logical, whether to show legend for points (default: TRUE)}
}
\value{
ggplot2 object
}
\description{
Creates a spatial map showing travel time accessibility to facilities.
}
\details{
\strong{Point Styling Options:}

\strong{Fixed styling}: Provide single values for color, shape, size

\strong{Variable styling}: Provide column names from points data to map aesthetics

\strong{Color mapping}: When point_color is a column name, use point_colors to specify colors

\strong{Shape mapping}: When point_shape is a column name, use point_shapes to specify shapes

\strong{Available shapes}: Numbers 0-25, or characters "+", "x", "*", etc.
}
\examples{
\dontrun{
# Basic map with default red "+" points
facility_coords <- points
map1 <- create_map(access_dt, facility_coords, adm0, adm1, cats)

# Custom point color and shape
map2 <- create_map(
  access_dt, facility_coords, adm0, adm1, cats,
  point_color = "blue",
  point_shape = 17,  # Triangle
  point_size = 6
)

# Color points by facility type
facilities_df <- data.frame(
  lng = c(36.8, 37.0),
  lat = c(-1.3, -1.5),
  type = c("Hospital", "Clinic")
  )

map3 <- create_map(
  access_dt, points = facilities_df, adm0, adm1, cats,
  point_color = "type",
  point_colors = c("Hospital" = "red", "Clinic" = "blue"),
  label = "Health Facilities"
)

# Shape points by ownership and size by capacity
facilities_df <- data.frame(
  lng = c(36.8, 37.0, 36.9),
  lat = c(-1.3, -1.5, -1.4),
  ownership = c("Public", "Private", "Public"),
  capacity = c(100, 50, 75)
)

map4 <- create_map(
  access_dt, facilities_df, adm0, adm1, cats,
  point_color = "darkgreen",
  point_shape = "ownership",
  point_size = "capacity",
  point_shapes = c("Public" = 16, "Private" = 17)
)

# Multiple aesthetics mapped
map5 <- create_map(
 access_dt,
 facilities_df,
 adm0,
 adm1,
 cats,
 point_color = "ownership",
 point_shape = "ownership",
 point_size = "capacity",
 point_colors = c("Public" = "red", "Private" = "blue"),
 point_shapes = c("Public" = 16, "Private" = 17)
)
}

}
